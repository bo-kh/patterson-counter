var at=Object.defineProperty;var je=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var Be=(l,e,t)=>e in l?at(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,we=(l,e)=>{for(var t in e||(e={}))ft.call(e,t)&&Be(l,t,e[t]);if(je)for(var t of je(e))ct.call(e,t)&&Be(l,t,e[t]);return l};var Pe=(l,e,t)=>{if(!e.has(l))throw TypeError("Cannot "+t)};var R=(l,e,t)=>(Pe(l,e,"read from private field"),t?t.call(l):e.get(l)),A=(l,e,t)=>{if(e.has(l))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(l):e.set(l,t)},H=(l,e,t,n)=>(Pe(l,e,"write to private field"),n?n.call(l,t):e.set(l,t),t);var he=(l,e,t)=>(Pe(l,e,"access private method"),t);import{S as I,i as S,s as q,c as se,e as b,a as _,b as m,u as re,g as ie,d as oe,t as p,f as g,h as $,j as M,k as w,l as ue,m as G,n as z,o as Oe,p as T,q as V,r as j,v as be,w as B,x as ae,y as fe,z as Ye,A as dt,B as pt,C as mt,D as Ee,E as Ce,F as $t,G as ee,H as te,I as Re,J as Le,K as _t,L as ke,M as gt}from"./vendor.943a5f75.js";const ht=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};ht();function bt(l){let e,t;const n=l[1].default,r=se(n,l,l[0],null);return{c(){e=b("div"),r&&r.c(),_(e,"class","flex flex-col items-center h-full")},m(s,i){m(s,e,i),r&&r.m(e,null),t=!0},p(s,[i]){r&&r.p&&(!t||i&1)&&re(r,n,s,s[0],t?oe(n,s[0],i,null):ie(s[0]),null)},i(s){t||(p(r,s),t=!0)},o(s){g(r,s),t=!1},d(s){s&&$(e),r&&r.d(s)}}}function kt(l,e,t){let{$$slots:n={},$$scope:r}=e;return l.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Ne extends I{constructor(e){super();S(this,e,kt,bt,q,{})}}function vt(l){let e,t;const n=l[1].default,r=se(n,l,l[0],null);return{c(){e=b("div"),r&&r.c(),_(e,"class","flex flex-col items-center grow-0 mt-8")},m(s,i){m(s,e,i),r&&r.m(e,null),t=!0},p(s,[i]){r&&r.p&&(!t||i&1)&&re(r,n,s,s[0],t?oe(n,s[0],i,null):ie(s[0]),null)},i(s){t||(p(r,s),t=!0)},o(s){g(r,s),t=!1},d(s){s&&$(e),r&&r.d(s)}}}function yt(l,e,t){let{$$slots:n={},$$scope:r}=e;return l.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Fe extends I{constructor(e){super();S(this,e,yt,vt,q,{})}}function wt(l){let e,t;const n=l[3].default,r=se(n,l,l[2],null);return{c(){e=b("div"),r&&r.c(),_(e,"class","flex flex-col w-full p-5 text-stone-600 grow "+l[0]+" min-h-0")},m(s,i){m(s,e,i),r&&r.m(e,null),t=!0},p(s,[i]){r&&r.p&&(!t||i&4)&&re(r,n,s,s[2],t?oe(n,s[2],i,null):ie(s[2]),null)},i(s){t||(p(r,s),t=!0)},o(s){g(r,s),t=!1},d(s){s&&$(e),r&&r.d(s)}}}function Pt(l,e,t){let{$$slots:n={},$$scope:r}=e,{justifyCenter:s=!1}=e;const i=s?"justify-center":"justify-start";return l.$$set=o=>{"justifyCenter"in o&&t(1,s=o.justifyCenter),"$$scope"in o&&t(2,r=o.$$scope)},[i,s,r,n]}class De extends I{constructor(e){super();S(this,e,Pt,wt,q,{justifyCenter:1})}}function Ct(l){let e,t;const n=l[1].default,r=se(n,l,l[0],null);return{c(){e=b("div"),r&&r.c(),_(e,"class","flex grow-0 w-full pb-6 px-5 justify-center")},m(s,i){m(s,e,i),r&&r.m(e,null),t=!0},p(s,[i]){r&&r.p&&(!t||i&1)&&re(r,n,s,s[0],t?oe(n,s[0],i,null):ie(s[0]),null)},i(s){t||(p(r,s),t=!0)},o(s){g(r,s),t=!1},d(s){s&&$(e),r&&r.d(s)}}}function Rt(l,e,t){let{$$slots:n={},$$scope:r}=e;return l.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Te extends I{constructor(e){super();S(this,e,Rt,Ct,q,{})}}function Nt(l){let e,t,n,r,s;return{c(){e=b("button"),t=M(l[0]),_(e,"class",n=""+(l[3]+" grow-0 "+l[2]+" text-stone-200 py-2 px-4 focus:outline-none ml-2 svelte-ggwqiv")),e.disabled=l[1]},m(i,o){m(i,e,o),w(e,t),r||(s=ue(e,"click",l[5]),r=!0)},p(i,[o]){o&1&&G(t,i[0]),o&12&&n!==(n=""+(i[3]+" grow-0 "+i[2]+" text-stone-200 py-2 px-4 focus:outline-none ml-2 svelte-ggwqiv"))&&_(e,"class",n),o&2&&(e.disabled=i[1])},i:z,o:z,d(i){i&&$(e),r=!1,s()}}}function Ft(l,e,t){let n,r,{text:s="..."}=e,{secondary:i=!1}=e,{disabled:o=!1}=e;function u(f){Oe.call(this,l,f)}return l.$$set=f=>{"text"in f&&t(0,s=f.text),"secondary"in f&&t(4,i=f.secondary),"disabled"in f&&t(1,o=f.disabled)},l.$$.update=()=>{l.$$.dirty&18&&t(3,n=o?"bg-gray-400":i?"bg-stone-500":"bg-orange-700"),l.$$.dirty&16&&t(2,r=i?"active:bg-stone-600":"active:bg-orange-800")},[s,o,r,n,i,u]}class X extends I{constructor(e){super();S(this,e,Ft,Nt,q,{text:0,secondary:4,disabled:1})}}function Dt(l){let e,t;const n=l[1].default,r=se(n,l,l[0],null);return{c(){e=b("span"),r&&r.c(),_(e,"class","text-orange-700 font-medium")},m(s,i){m(s,e,i),r&&r.m(e,null),t=!0},p(s,[i]){r&&r.p&&(!t||i&1)&&re(r,n,s,s[0],t?oe(n,s[0],i,null):ie(s[0]),null)},i(s){t||(p(r,s),t=!0)},o(s){g(r,s),t=!1},d(s){s&&$(e),r&&r.d(s)}}}function Tt(l,e,t){let{$$slots:n={},$$scope:r}=e;return l.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Me extends I{constructor(e){super();S(this,e,Tt,Dt,q,{})}}const ve=Object.freeze({prevPage:"prevPage",nextPage:"nextPage",finish:"finish"});function Vt(l){let e,t,n;return{c(){e=b("h1"),e.textContent="Patterson counter",t=B(),n=b("h2"),n.textContent="for Patterson card game",_(e,"class","text-4xl text-orange-700"),_(n,"class","text-xl text-orange-700")},m(r,s){m(r,e,s),m(r,t,s),m(r,n,s)},d(r){r&&$(e),r&&$(t),r&&$(n)}}}function jt(l){let e;return{c(){e=M("Start")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Bt(l){let e,t,n,r,s,i,o;return s=new Me({props:{$$slots:{default:[jt]},$$scope:{ctx:l}}}),{c(){e=b("p"),e.textContent="This is an application that helps players to count points in Patterson card game",t=B(),n=b("p"),r=M("Press "),T(s.$$.fragment),i=M(" button to add players and start counting points."),_(e,"class","text-center"),_(n,"class","pt-4 text-center")},m(u,f){m(u,e,f),m(u,t,f),m(u,n,f),w(n,r),V(s,n,null),w(n,i),o=!0},p(u,f){const a={};f&4&&(a.$$scope={dirty:f,ctx:u}),s.$set(a)},i(u){o||(p(s.$$.fragment,u),o=!0)},o(u){g(s.$$.fragment,u),o=!1},d(u){u&&$(e),u&&$(t),u&&$(n),j(s)}}}function Ot(l){let e,t;return e=new X({props:{text:"Start"}}),e.$on("click",l[0]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Yt(l){let e,t,n,r,s,i;return e=new Fe({props:{$$slots:{default:[Vt]},$$scope:{ctx:l}}}),n=new De({props:{justifyCenter:!0,$$slots:{default:[Bt]},$$scope:{ctx:l}}}),s=new Te({props:{$$slots:{default:[Ot]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=B(),T(n.$$.fragment),r=B(),T(s.$$.fragment)},m(o,u){V(e,o,u),m(o,t,u),V(n,o,u),m(o,r,u),V(s,o,u),i=!0},p(o,u){const f={};u&4&&(f.$$scope={dirty:u,ctx:o}),e.$set(f);const a={};u&4&&(a.$$scope={dirty:u,ctx:o}),n.$set(a);const c={};u&4&&(c.$$scope={dirty:u,ctx:o}),s.$set(c)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){j(e,o),o&&$(t),j(n,o),o&&$(r),j(s,o)}}}function Et(l){let e,t;return e=new Ne({props:{$$slots:{default:[Yt]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Lt(l){const e=be();function t(){e(ve.nextPage)}return[t]}class Mt extends I{constructor(e){super();S(this,e,Lt,Et,q,{})}}function At(l){let e,t,n,r;return{c(){e=b("input"),_(e,"class",t="grow "+l[2]+" border-orange-700 border-b-2 focus:outline-none px-2 svelte-gyt2so"),_(e,"type","text"),e.disabled=l[1]},m(s,i){m(s,e,i),ae(e,l[0]),n||(r=ue(e,"input",l[3]),n=!0)},p(s,[i]){i&4&&t!==(t="grow "+s[2]+" border-orange-700 border-b-2 focus:outline-none px-2 svelte-gyt2so")&&_(e,"class",t),i&2&&(e.disabled=s[1]),i&1&&e.value!==s[0]&&ae(e,s[0])},i:z,o:z,d(s){s&&$(e),n=!1,r()}}}function It(l,e,t){let n,{disabled:r=!1}=e,{value:s}=e;function i(){s=this.value,t(0,s)}return l.$$set=o=>{"disabled"in o&&t(1,r=o.disabled),"value"in o&&t(0,s=o.value)},l.$$.update=()=>{l.$$.dirty&2&&t(2,n=r?"bg-stone-300":"bg-stone-200")},[s,r,n,i]}class St extends I{constructor(e){super();S(this,e,It,At,q,{disabled:1,value:0})}}class qt{constructor(e,t){this.id=e,this.name=t}}const Ae=Ye(0),zt=()=>(Ae.update(l=>l+1),fe(Ae)),J=Ye([]);class Ht{add(e){return J.update(t=>[...t,new qt(zt(),e.trim())]),[...fe(J)]}remove(e){const t=fe(J),n=t.findIndex(r=>r.id===e);return n>=0&&(t.splice(n,1),J.update(()=>[...t])),[...fe(J)]}reset(){J.update(e=>[])}isNameExists(e){const t=e.trim().toLowerCase();return fe(J).findIndex(r=>r.name.toLowerCase()===t)>=0}get players(){return[...fe(J)]}}const Ie=()=>new Ht;function Se(l,e,t){const n=l.slice();return n[10]=e[t],n}function Kt(l){let e;return{c(){e=M("Add player")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function Xt(l){let e,t,n,r,s,i,o;return s=new Me({props:{$$slots:{default:[Kt]},$$scope:{ctx:l}}}),{c(){e=b("h1"),e.textContent="Add players",t=B(),n=b("p"),r=M("Add players by typing their names and clicking "),T(s.$$.fragment),i=M(". The minimum amount of players is 2 and maximum is 6."),_(e,"class","text-4xl text-orange-700"),_(n,"class","text-orange-900 mt-4 px-5")},m(u,f){m(u,e,f),m(u,t,f),m(u,n,f),w(n,r),V(s,n,null),w(n,i),o=!0},p(u,f){const a={};f&8192&&(a.$$scope={dirty:f,ctx:u}),s.$set(a)},i(u){o||(p(s.$$.fragment,u),o=!0)},o(u){g(s.$$.fragment,u),o=!1},d(u){u&&$(e),u&&$(t),u&&$(n),j(s)}}}function qe(l){let e;return{c(){e=b("span"),e.textContent="Player with this name already exists"},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function ze(l,e){let t,n,r,s=e[10].name+"",i,o,u;return{key:l,first:null,c(){t=b("p"),n=b("button"),n.textContent="X",r=b("span"),i=M(s),_(n,"class","bg-orange-700 text-stone-300 font-semibold px-2 mr-5 rounded-xl"),_(t,"class","mt-3"),this.first=t},m(f,a){m(f,t,a),w(t,n),w(t,r),w(r,i),o||(u=ue(n,"click",function(){Ce(e[6](e[10].id))&&e[6](e[10].id).apply(this,arguments)}),o=!0)},p(f,a){e=f,a&2&&s!==(s=e[10].name+"")&&G(i,s)},d(f){f&&$(t),o=!1,u()}}}function Gt(l){let e,t,n,r,s,i,o,u,f,a,c,N=l[1].length+"",P,v,C,E,h=[],Y=new Map,F;function k(y){l[7](y)}let d={disabled:l[1].length===6};l[0]!==void 0&&(d.value=l[0]),t=new St({props:d}),dt.push(()=>pt(t,"value",k)),s=new X({props:{text:"Add player",disabled:l[0].trim()===""||l[2]||l[1].length===6}}),s.$on("click",l[5]);let D=l[2]&&qe(),O=l[1];const me=y=>y[10].id;for(let y=0;y<O.length;y+=1){let L=Se(l,O,y),K=me(L);Y.set(K,h[y]=ze(K,L))}return{c(){e=b("div"),T(t.$$.fragment),r=B(),T(s.$$.fragment),i=B(),o=b("p"),D&&D.c(),u=B(),f=b("h2"),a=M("Players (total number "),c=b("span"),P=M(N),v=M("):"),C=B(),E=b("div");for(let y=0;y<h.length;y+=1)h[y].c();_(e,"class","flex mt-8"),_(o,"class","h-2 text-red-600"),_(f,"class","text-xl text-orange-800 mt-10"),_(E,"class","flex flex-col mt-4")},m(y,L){m(y,e,L),V(t,e,null),w(e,r),V(s,e,null),m(y,i,L),m(y,o,L),D&&D.m(o,null),m(y,u,L),m(y,f,L),w(f,a),w(f,c),w(c,P),w(f,v),m(y,C,L),m(y,E,L);for(let K=0;K<h.length;K+=1)h[K].m(E,null);F=!0},p(y,L){const K={};L&2&&(K.disabled=y[1].length===6),!n&&L&1&&(n=!0,K.value=y[0],mt(()=>n=!1)),t.$set(K);const Ve={};L&7&&(Ve.disabled=y[0].trim()===""||y[2]||y[1].length===6),s.$set(Ve),y[2]?D||(D=qe(),D.c(),D.m(o,null)):D&&(D.d(1),D=null),(!F||L&2)&&N!==(N=y[1].length+"")&&G(P,N),L&66&&(O=y[1],h=Ee(h,L,me,1,y,O,Y,E,$t,ze,null,Se))},i(y){F||(p(t.$$.fragment,y),p(s.$$.fragment,y),F=!0)},o(y){g(t.$$.fragment,y),g(s.$$.fragment,y),F=!1},d(y){y&&$(e),j(t),j(s),y&&$(i),y&&$(o),D&&D.d(),y&&$(u),y&&$(f),y&&$(C),y&&$(E);for(let L=0;L<h.length;L+=1)h[L].d()}}}function Jt(l){let e,t,n,r;return e=new X({props:{text:"Back",secondary:!0}}),e.$on("click",l[4]),n=new X({props:{text:"Calculate points",disabled:l[1].length<2}}),n.$on("click",l[3]),{c(){T(e.$$.fragment),t=B(),T(n.$$.fragment)},m(s,i){V(e,s,i),m(s,t,i),V(n,s,i),r=!0},p(s,i){const o={};i&2&&(o.disabled=s[1].length<2),n.$set(o)},i(s){r||(p(e.$$.fragment,s),p(n.$$.fragment,s),r=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),r=!1},d(s){j(e,s),s&&$(t),j(n,s)}}}function Qt(l){let e,t,n,r,s,i;return e=new Fe({props:{$$slots:{default:[Xt]},$$scope:{ctx:l}}}),n=new De({props:{$$slots:{default:[Gt]},$$scope:{ctx:l}}}),s=new Te({props:{$$slots:{default:[Jt]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment),t=B(),T(n.$$.fragment),r=B(),T(s.$$.fragment)},m(o,u){V(e,o,u),m(o,t,u),V(n,o,u),m(o,r,u),V(s,o,u),i=!0},p(o,u){const f={};u&8192&&(f.$$scope={dirty:u,ctx:o}),e.$set(f);const a={};u&8199&&(a.$$scope={dirty:u,ctx:o}),n.$set(a);const c={};u&8194&&(c.$$scope={dirty:u,ctx:o}),s.$set(c)},i(o){i||(p(e.$$.fragment,o),p(n.$$.fragment,o),p(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){j(e,o),o&&$(t),j(n,o),o&&$(r),j(s,o)}}}function Ut(l){let e,t;return e=new Ne({props:{$$slots:{default:[Qt]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const s={};r&8199&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Wt(l,e,t){const n=be();let r=Ie(),s=r.players,i="",o=!1;function u(){n(ve.nextPage)}function f(){n(ve.prevPage)}function a(){o||(t(1,s=r.add(i)),t(0,i=""))}function c(P){return()=>{t(1,s=r.remove(P))}}function N(P){i=P,t(0,i)}return l.$$.update=()=>{l.$$.dirty&1&&t(2,o=r.isNameExists(i))},[i,s,o,u,f,a,c,N]}class Zt extends I{constructor(e){super();S(this,e,Wt,Ut,q,{})}}var $e,ne,ce,Q,U,_e,He;class xt{constructor(e,t){A(this,_e);A(this,$e,null);A(this,ne,0);A(this,ce,void 0);A(this,Q,void 0);A(this,U,void 0);H(this,$e,e),H(this,ne,t)}get player(){return we({},R(this,$e))}get previousPoints(){return R(this,ne)}get currentPoints(){return R(this,ce)}get takesPredicted(){return R(this,U)}get takesFact(){return R(this,Q)}set takesPredicted(e){e!=null&&(H(this,U,e),R(this,Q)!==void 0&&H(this,ce,he(this,_e,He).call(this,R(this,Q),R(this,U),R(this,ne))))}set takesFact(e){e!=null&&(H(this,Q,e),R(this,U)!==void 0&&H(this,ce,he(this,_e,He).call(this,R(this,Q),R(this,U),R(this,ne))))}}$e=new WeakMap,ne=new WeakMap,ce=new WeakMap,Q=new WeakMap,U=new WeakMap,_e=new WeakSet,He=function(e,t,n){return e===t?10+e+n:n};var de,ge,pe;class en{constructor(e,t,n){A(this,de,{});A(this,ge,void 0);A(this,pe,void 0);e.forEach(r=>{R(this,de)[r.player.id]=r}),H(this,ge,t),H(this,pe,n)}get roundNumber(){return R(this,ge)}get cardsToDeal(){return R(this,pe)}getPlayerRound(e){return R(this,de)[e]}getRemainingTakesFact(){let e=0;return Object.values(R(this,de)).forEach(t=>{var n;return e+=(n=t.takesFact)!=null?n:0}),R(this,pe)-e}}de=new WeakMap,ge=new WeakMap,pe=new WeakMap;var W,Z,x,le,ye,nn;class tn{constructor(e){A(this,ye);A(this,W,[]);A(this,Z,void 0);A(this,x,0);A(this,le,19);H(this,Z,e),e.length===6&&H(this,le,17)}get valid(){const e=R(this,Z).length;return e>1&&e<7}get isLastRound(){return R(this,x)===R(this,le)}get lastRound(){return R(this,W).length>0?R(this,W)[R(this,W).length-1]:void 0}get rounds(){return[...R(this,W)]}get players(){return R(this,Z).map(e=>we({},e))}addRound(){if(R(this,x)>0&&this.isNextRoundDisabled())return!1;H(this,x,R(this,x)+1);const e=this.lastRound,t=new en(R(this,Z).map(n=>{const r=e?e.getPlayerRound(n.id).currentPoints:0;return new xt(n,r)}),R(this,x),he(this,ye,nn).call(this,R(this,x)));return R(this,W).push(t),!0}setTakesPredicted(e,t){const n=this.lastRound;return n&&n[e]?(n[e].takesPredicted=t,!0):!1}setTakesFact(e,t){const n=this.lastRound;return n&&n[e]?(n[e].takesFact=t,!0):!1}isNextRoundDisabled(){return!!(this.isLastRound||this.lastRound.getRemainingTakesFact()>0||R(this,Z).find(e=>{const t=this.lastRound.getPlayerRound(e.id);return t.takesFact===void 0||t.takesPredicted===void 0}))}}W=new WeakMap,Z=new WeakMap,x=new WeakMap,le=new WeakMap,ye=new WeakSet,nn=function(e){const t=Math.ceil(R(this,le)/2);return e<=t?e:R(this,le)-e+1};function Ke(l){let e,t,n;return{c(){e=b("span"),t=M(l[0]),_(e,"class",n="left-corner-info px-2 bg-stone-200 border-r border-b border-stone-500 "+l[3]+" svelte-p0w6a3")},m(r,s){m(r,e,s),w(e,t)},p(r,s){s&1&&G(t,r[0])},d(r){r&&$(e)}}}function Xe(l){let e,t,n;return{c(){e=b("span"),t=M(l[1]),_(e,"class",n="right-corner-info px-2 bg-stone-200 border-l border-b border-stone-500 "+{roundedClass:l[3]}+" svelte-p0w6a3")},m(r,s){m(r,e,s),w(e,t)},p(r,s){s&2&&G(t,r[1])},d(r){r&&$(e)}}}function ln(l){let e,t,n,r,s,i,o,u=l[0]!==void 0&&Ke(l),f=l[1]!==void 0&&Xe(l);return{c(){e=b("div"),u&&u.c(),t=B(),n=b("span"),r=M(l[2]),s=B(),f&&f.c(),_(n,"class","text-xl font-semibold p-1 text-ellipsis overflow-hidden whitespace-nowrap"),_(e,"class","relative flex justify-center items-center bg-stone-300 border-l border-t border-stone-500 h-14")},m(a,c){m(a,e,c),u&&u.m(e,null),w(e,t),w(e,n),w(n,r),w(e,s),f&&f.m(e,null),i||(o=ue(e,"click",l[5]),i=!0)},p(a,[c]){a[0]!==void 0?u?u.p(a,c):(u=Ke(a),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c&4&&G(r,a[2]),a[1]!==void 0?f?f.p(a,c):(f=Xe(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:z,o:z,d(a){a&&$(e),u&&u.d(),f&&f.d(),i=!1,o()}}}function sn(l,e,t){let{leftValue:n=void 0}=e,{rightValue:r=void 0}=e,{mainValue:s="-"}=e,{rounded:i=!1}=e;const o=i?"rounded-xl":"rounded-none";function u(f){Oe.call(this,l,f)}return l.$$set=f=>{"leftValue"in f&&t(0,n=f.leftValue),"rightValue"in f&&t(1,r=f.rightValue),"mainValue"in f&&t(2,s=f.mainValue),"rounded"in f&&t(4,i=f.rounded)},[n,r,s,o,i,u]}class Ge extends I{constructor(e){super();S(this,e,sn,ln,q,{leftValue:0,rightValue:1,mainValue:2,rounded:4})}}function rn(l){let e,t,n;return{c(){e=b("div"),t=b("span"),n=M(l[0]),_(t,"class","text-base font-normal p-1 text-ellipsis overflow-hidden whitespace-nowrap"),_(e,"class","relative flex justify-center items-center bg-stone-200 border-l border-t last:border-r border-stone-500 h-14")},m(r,s){m(r,e,s),w(e,t),w(t,n)},p(r,[s]){s&1&&G(n,r[0])},i:z,o:z,d(r){r&&$(e)}}}function on(l,e,t){let{value:n="-"}=e;return l.$$set=r=>{"value"in r&&t(0,n=r.value)},[n]}class Je extends I{constructor(e){super();S(this,e,on,rn,q,{value:0})}}function un(l){let e;return{c(){e=M("Information")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function an(l){let e;return{c(){e=M("Confirm")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function fn(l){let e,t;return e=new X({props:{text:"OK"}}),e.$on("click",l[4]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function cn(l){let e,t,n,r;return e=new X({props:{text:l[1],secondary:!0}}),e.$on("click",l[6]),n=new X({props:{text:l[0],disabled:l[3]}}),n.$on("click",l[5]),{c(){T(e.$$.fragment),t=B(),T(n.$$.fragment)},m(s,i){V(e,s,i),m(s,t,i),V(n,s,i),r=!0},p(s,i){const o={};i&2&&(o.text=s[1]),e.$set(o);const u={};i&1&&(u.text=s[0]),i&8&&(u.disabled=s[3]),n.$set(u)},i(s){r||(p(e.$$.fragment,s),p(n.$$.fragment,s),r=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),r=!1},d(s){j(e,s),s&&$(t),j(n,s)}}}function dn(l){let e,t,n,r,s,i,o,u,f,a,c,N;function P(d,D){return d[2]?an:un}let v=P(l),C=v(l);const E=l[8].default,h=se(E,l,l[7],null),Y=[cn,fn],F=[];function k(d,D){return d[2]?0:1}return a=k(l),c=F[a]=Y[a](l),{c(){e=b("div"),t=b("div"),n=b("div"),r=b("div"),s=b("h2"),C.c(),i=B(),o=b("div"),h&&h.c(),u=B(),f=b("div"),c.c(),_(s,"class","text-2xl text-orange-700 text-center"),_(o,"class","mt-4"),_(f,"class","flex w-full justify-center bg-stone-300 mt-8"),_(r,"class","w-full h-full px-2 pt-1 pb-2 border-2 border-dashed border-orange-800"),_(n,"class","w-full bg-stone-300 p-1"),_(t,"class","flex flex-col w-full h-full justify-center"),_(e,"class","msgbox fixed top-0 -mx-5 m-auto w-full h-full md:max-w-lg overflow-hidden bg-stone-900/80")},m(d,D){m(d,e,D),w(e,t),w(t,n),w(n,r),w(r,s),C.m(s,null),w(r,i),w(r,o),h&&h.m(o,null),w(r,u),w(r,f),F[a].m(f,null),N=!0},p(d,[D]){v!==(v=P(d))&&(C.d(1),C=v(d),C&&(C.c(),C.m(s,null))),h&&h.p&&(!N||D&128)&&re(h,E,d,d[7],N?oe(E,d[7],D,null):ie(d[7]),null);let O=a;a=k(d),a===O?F[a].p(d,D):(ee(),g(F[O],1,1,()=>{F[O]=null}),te(),c=F[a],c?c.p(d,D):(c=F[a]=Y[a](d),c.c()),p(c,1),c.m(f,null))},i(d){N||(p(h,d),p(c),N=!0)},o(d){g(h,d),g(c),N=!1},d(d){d&&$(e),C.d(),h&&h.d(d),F[a].d()}}}const Qe="Yes",Ue="No";function pn(l,e,t){let{$$slots:n={},$$scope:r}=e,{isConfirm:s=!1}=e,{textYes:i=Qe}=e,{textNo:o=Ue}=e,{yesButtonDisabled:u=!1}=e;i=i||Qe,o=o||Ue;const f=be(),a=Object.freeze({clickOk:"clickOk",clickYes:"clickYes",clickNo:"clickNo"});function c(){f(a.clickOk)}function N(){f(a.clickYes)}function P(){f(a.clickNo)}return l.$$set=v=>{"isConfirm"in v&&t(2,s=v.isConfirm),"textYes"in v&&t(0,i=v.textYes),"textNo"in v&&t(1,o=v.textNo),"yesButtonDisabled"in v&&t(3,u=v.yesButtonDisabled),"$$scope"in v&&t(7,r=v.$$scope)},[i,o,s,u,c,N,P,r,n]}class We extends I{constructor(e){super();S(this,e,pn,dn,q,{isConfirm:2,textYes:0,textNo:1,yesButtonDisabled:3})}}function Ze(l,e,t){const n=l.slice();return n[13]=e[t],n}function xe(l,e,t){const n=l.slice();return n[16]=e[t],n}function et(l,e,t){const n=l.slice();return n[16]=e[t],n}function tt(l){let e,t;return e=new Je({props:{value:l[16].name}}),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.value=n[16].name),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function nt(l){let e,t;return e=new Ge({props:{mainValue:rt(l[13],l[16].id),leftValue:it(l[13],l[16].id),rightValue:ot(l[13],l[16].id)}}),e.$on("click",function(){Ce(l[7](l[16].id))&&l[7](l[16].id).apply(this,arguments)}),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){l=n;const s={};r&17&&(s.mainValue=rt(l[13],l[16].id)),r&17&&(s.leftValue=it(l[13],l[16].id)),r&17&&(s.rightValue=ot(l[13],l[16].id)),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function lt(l,e){let t,n,r,s,i;n=new Ge({props:{mainValue:e[13].cardsToDeal,leftValue:e[13].roundNumber,rounded:!0}});let o=e[0],u=[];for(let a=0;a<o.length;a+=1)u[a]=nt(xe(e,o,a));const f=a=>g(u[a],1,1,()=>{u[a]=null});return{key:l,first:null,c(){t=Re(),T(n.$$.fragment),r=B();for(let a=0;a<u.length;a+=1)u[a].c();s=Re(),this.first=t},m(a,c){m(a,t,c),V(n,a,c),m(a,r,c);for(let N=0;N<u.length;N+=1)u[N].m(a,c);m(a,s,c),i=!0},p(a,c){e=a;const N={};if(c&16&&(N.mainValue=e[13].cardsToDeal),c&16&&(N.leftValue=e[13].roundNumber),n.$set(N),c&145){o=e[0];let P;for(P=0;P<o.length;P+=1){const v=xe(e,o,P);u[P]?(u[P].p(v,c),p(u[P],1)):(u[P]=nt(v),u[P].c(),p(u[P],1),u[P].m(s.parentNode,s))}for(ee(),P=o.length;P<u.length;P+=1)f(P);te()}},i(a){if(!i){p(n.$$.fragment,a);for(let c=0;c<o.length;c+=1)p(u[c]);i=!0}},o(a){g(n.$$.fragment,a),u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)g(u[c]);i=!1},d(a){a&&$(t),j(n,a),a&&$(r),Le(u,a),a&&$(s)}}}function st(l){let e,t;return e=new We({props:{isConfirm:!0,textYes:"Ok",textNo:"Cancel",yesButtonDisabled:l[3].takesPredicted>l[5].lastRound.cardsToDeal||l[3].takesFactRemaining+l[3].takesFactInitial<l[3].takesFact,$$slots:{default:[mn]},$$scope:{ctx:l}}}),e.$on("clickYes",function(){Ce(l[8](l[3].player.id))&&l[8](l[3].player.id).apply(this,arguments)}),e.$on("clickNo",l[9]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){l=n;const s={};r&8&&(s.yesButtonDisabled=l[3].takesPredicted>l[5].lastRound.cardsToDeal||l[3].takesFactRemaining+l[3].takesFactInitial<l[3].takesFact),r&2097160&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function mn(l){let e,t,n=l[3].player.name+"",r,s,i,o,u,f,a,c,N,P,v,C,E;return{c(){e=b("p"),t=M("Player: "),r=M(n),s=B(),i=b("div"),o=b("span"),o.textContent="Predicated takes:",u=B(),f=b("input"),a=B(),c=b("div"),N=b("span"),N.textContent="Fact takes:",P=B(),v=b("input"),_(e,"class","text-lg font-medium text-center"),_(o,"class","h-8 leading-8"),_(f,"class","h-8 px-2"),_(f,"type","number"),_(f,"min","0"),_(f,"max",l[5].lastRound.cardsToDeal),_(i,"class","mt-4"),_(N,"class","h-8 leading-8"),_(v,"class","h-8 px-2"),_(v,"type","number"),_(v,"min","0"),_(v,"max",l[5].lastRound.cardsToDeal),_(c,"class","mt-4")},m(h,Y){m(h,e,Y),w(e,t),w(e,r),m(h,s,Y),m(h,i,Y),w(i,o),w(i,u),w(i,f),ae(f,l[3].takesPredicted),m(h,a,Y),m(h,c,Y),w(c,N),w(c,P),w(c,v),ae(v,l[3].takesFact),C||(E=[ue(f,"input",l[11]),ue(v,"input",l[12])],C=!0)},p(h,Y){Y&8&&n!==(n=h[3].player.name+"")&&G(r,n),Y&8&&ke(f.value)!==h[3].takesPredicted&&ae(f,h[3].takesPredicted),Y&8&&ke(v.value)!==h[3].takesFact&&ae(v,h[3].takesFact)},d(h){h&&$(e),h&&$(s),h&&$(i),h&&$(a),h&&$(c),C=!1,gt(E)}}}function $n(l){let e,t,n,r,s,i,o=[],u=new Map,f,a,c,N,P;n=new Je({props:{value:"Cards"}});let v=l[0],C=[];for(let k=0;k<v.length;k+=1)C[k]=tt(et(l,v,k));const E=k=>g(C[k],1,1,()=>{C[k]=null});let h=l[4];const Y=k=>k[13].roundNumber;for(let k=0;k<h.length;k+=1){let d=Ze(l,h,k),D=Y(d);u.set(D,o[k]=lt(D,d))}c=new X({props:{text:"Next round",disabled:l[2]}}),c.$on("click",l[10]);let F=l[1]&&st(l);return{c(){e=b("div"),t=b("div"),T(n.$$.fragment),r=B();for(let k=0;k<C.length;k+=1)C[k].c();s=B(),i=b("div");for(let k=0;k<o.length;k+=1)o[k].c();f=B(),a=b("div"),T(c.$$.fragment),N=B(),F&&F.c(),_(t,"class","grid g-cols-"+l[6]+" border-b-2 border-stone-500"),_(i,"class","grid g-cols-"+l[6]+" border-b border-r border-stone-500 min-h-0"),_(a,"class","flex justify-end pt-2"),_(e,"class","main-round-rows-element min-h-0 overflow-x-hideen overflow-y-auto")},m(k,d){m(k,e,d),w(e,t),V(n,t,null),w(t,r);for(let D=0;D<C.length;D+=1)C[D].m(t,null);w(e,s),w(e,i);for(let D=0;D<o.length;D+=1)o[D].m(i,null);w(e,f),w(e,a),V(c,a,null),w(e,N),F&&F.m(e,null),P=!0},p(k,[d]){if(d&1){v=k[0];let O;for(O=0;O<v.length;O+=1){const me=et(k,v,O);C[O]?(C[O].p(me,d),p(C[O],1)):(C[O]=tt(me),C[O].c(),p(C[O],1),C[O].m(t,null))}for(ee(),O=v.length;O<C.length;O+=1)E(O);te()}d&145&&(h=k[4],ee(),o=Ee(o,d,Y,1,k,h,u,i,_t,lt,null,Ze),te());const D={};d&4&&(D.disabled=k[2]),c.$set(D),k[1]?F?(F.p(k,d),d&2&&p(F,1)):(F=st(k),F.c(),p(F,1),F.m(e,null)):F&&(ee(),g(F,1,1,()=>{F=null}),te())},i(k){if(!P){p(n.$$.fragment,k);for(let d=0;d<v.length;d+=1)p(C[d]);for(let d=0;d<h.length;d+=1)p(o[d]);p(c.$$.fragment,k),p(F),P=!0}},o(k){g(n.$$.fragment,k),C=C.filter(Boolean);for(let d=0;d<C.length;d+=1)g(C[d]);for(let d=0;d<o.length;d+=1)g(o[d]);g(c.$$.fragment,k),g(F),P=!1},d(k){k&&$(e),j(n),Le(C,k);for(let d=0;d<o.length;d+=1)o[d].d();j(c),F&&F.d()}}}function rt(l,e){const t=l.getPlayerRound(e).currentPoints;return t===void 0?"-":t}function it(l,e){const t=l.getPlayerRound(e).takesPredicted;return t===void 0?"-":t}function ot(l,e){const t=l.getPlayerRound(e).takesFact;return t===void 0?"-":t}function _n(l,e,t){let{players:n=[]}=e;const r=new tn(n);r.addRound();const s=n.length+1;let i=!1,o=!0,u={},f=r.rounds;function a(E){return function(){var F;const h=r.lastRound,Y=h.getPlayerRound(E);t(3,u={player:Y.player,takesPredicted:Y.takesPredicted,takesFactInitial:(F=Y.takesFact)!=null?F:0,takesFactRemaining:h.getRemainingTakesFact(),takesFact:Y.takesFact}),t(1,i=!0)}}function c(E){return function(){const h=r.lastRound.getPlayerRound(E);h.takesPredicted=u.takesPredicted,h.takesFact=u.takesFact,t(1,i=!1),t(2,o=r.isNextRoundDisabled()),t(0,n)}}function N(){t(1,i=!1)}function P(){r.addRound(),t(4,f=r.rounds),t(2,o=!0)}function v(){u.takesPredicted=ke(this.value),t(3,u)}function C(){u.takesFact=ke(this.value),t(3,u)}return l.$$set=E=>{"players"in E&&t(0,n=E.players)},[n,i,o,u,f,r,s,a,c,N,P,v,C]}class gn extends I{constructor(e){super();S(this,e,_n,$n,q,{players:0})}}function hn(l){let e;return{c(){e=b("h1"),e.textContent="Points counting",_(e,"class","text-4xl text-orange-700")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function bn(l){let e,t;return e=new gn({props:{players:l[1].players}}),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function kn(l){let e,t;return e=new X({props:{text:"Finish"}}),e.$on("click",l[2]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ut(l){let e,t;return e=new We({props:{isConfirm:!0,$$slots:{default:[vn]},$$scope:{ctx:l}}}),e.$on("clickYes",l[3]),e.$on("clickNo",l[4]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const s={};r&64&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function vn(l){let e;return{c(){e=b("p"),e.textContent="Are you sure you want to finish counting points and reset game state?",_(e,"class","text-center")},m(t,n){m(t,e,n)},d(t){t&&$(e)}}}function yn(l){let e,t,n,r,s,i,o,u;e=new Fe({props:{$$slots:{default:[hn]},$$scope:{ctx:l}}}),n=new De({props:{$$slots:{default:[bn]},$$scope:{ctx:l}}}),s=new Te({props:{$$slots:{default:[kn]},$$scope:{ctx:l}}});let f=l[0]&&ut(l);return{c(){T(e.$$.fragment),t=B(),T(n.$$.fragment),r=B(),T(s.$$.fragment),i=B(),f&&f.c(),o=Re()},m(a,c){V(e,a,c),m(a,t,c),V(n,a,c),m(a,r,c),V(s,a,c),m(a,i,c),f&&f.m(a,c),m(a,o,c),u=!0},p(a,c){const N={};c&64&&(N.$$scope={dirty:c,ctx:a}),e.$set(N);const P={};c&64&&(P.$$scope={dirty:c,ctx:a}),n.$set(P);const v={};c&64&&(v.$$scope={dirty:c,ctx:a}),s.$set(v),a[0]?f?(f.p(a,c),c&1&&p(f,1)):(f=ut(a),f.c(),p(f,1),f.m(o.parentNode,o)):f&&(ee(),g(f,1,1,()=>{f=null}),te())},i(a){u||(p(e.$$.fragment,a),p(n.$$.fragment,a),p(s.$$.fragment,a),p(f),u=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(s.$$.fragment,a),g(f),u=!1},d(a){j(e,a),a&&$(t),j(n,a),a&&$(r),j(s,a),a&&$(i),f&&f.d(a),a&&$(o)}}}function wn(l){let e,t;return e=new Ne({props:{$$slots:{default:[yn]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const s={};r&65&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Pn(l,e,t){const n=be(),r=Ie();let s=!1;function i(){t(0,s=!0)}function o(){t(0,s=!1),r.reset(),n(ve.finish)}function u(){t(0,s=!1)}return[s,r,i,o,u]}class Cn extends I{constructor(e){super();S(this,e,Pn,wn,q,{})}}function Rn(l){let e,t;return e=new Cn({}),e.$on("finish",l[3]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Nn(l){let e,t;return e=new Zt({}),e.$on("prevPage",l[2]),e.$on("nextPage",l[1]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Fn(l){let e,t;return e=new Mt({}),e.$on("nextPage",l[1]),{c(){T(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:z,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Dn(l){let e,t,n,r;const s=[Fn,Nn,Rn],i=[];function o(u,f){return u[0]===0?0:u[0]===1?1:2}return t=o(l),n=i[t]=s[t](l),{c(){e=b("div"),n.c(),_(e,"class","m-auto h-full md:max-w-lg bg-stone-300")},m(u,f){m(u,e,f),i[t].m(e,null),r=!0},p(u,[f]){let a=t;t=o(u),t===a?i[t].p(u,f):(ee(),g(i[a],1,1,()=>{i[a]=null}),te(),n=i[t],n?n.p(u,f):(n=i[t]=s[t](u),n.c()),p(n,1),n.m(e,null))},i(u){r||(p(n),r=!0)},o(u){g(n),r=!1},d(u){u&&$(e),i[t].d()}}}function Tn(l,e,t){let n=0;function r(){t(0,n+=1)}function s(){t(0,n-=1)}function i(){t(0,n=0)}return[n,r,s,i]}class Vn extends I{constructor(e){super();S(this,e,Tn,Dn,q,{})}}new Vn({target:document.getElementById("app")});
